<!doctype html>
<html lang="pl">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portal aplikacji</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="notatnik.css" />
</head>

<body>
  <div class="backdrop" aria-hidden="true"></div>
  <header class="hero">
    <p class="eyebrow">Portal aplikacji</p>
    <h1>Twoje aplikacje w jednym miejscu</h1>
    <p class="lede lede__shadow">
      Wybierz aplikacj z kafelk贸w poni偶ej.
      Ka偶dy modu otwiera si na osobnej stronie, a wolne sloty czekaj na kolejne pomysy.
    </p>
  </header>

  <main class="grid" aria-label="Lista aplikacji">
    <a class="tile tile--active tile--notatnik" href="/bp-chatlog/index.html" aria-controls="notatnik-panel"
      aria-expanded="false">
      <div class="tile__tag">Aktywne</div>
      <h2>Notatnik cinienia</h2>
      <p>Rejestrowanie pomiar贸w i analiza trend贸w w jednym widoku.</p>
    </a>

    <section class="notatnik-panel" id="notatnik-panel" aria-live="polite" hidden>
      <div class="notatnik-panel__header">
        <div>
          <p class="notatnik-panel__eyebrow">Notatnik</p>
          <h2>Notatnik cisnienia</h2>
          <p class="notatnik-panel__lede">Zapisuj wpisy i analizuj trendy bez opuszczania portalu.</p>
        </div>
        <div class="notatnik-panel__actions">
          <a class="notatnik-panel__link" href="/bp-chatlog/index.html" target="_blank" rel="noreferrer">
            Otworz pelny
          </a>
          <a class="notatnik-panel__link" href="/bp-chatlog/summary.html" target="_blank" rel="noreferrer">
            Podsumowania
          </a>
          <a class="notatnik-panel__link" href="/bp-chatlog/settings.html" target="_blank" rel="noreferrer">
            Ustawienia
          </a>
          <button class="notatnik-panel__icon notatnik-panel__close" type="button" id="notatnik-panel-close"
            aria-label="Zamknij">
            Zamknij
          </button>
        </div>
      </div>
      <div class="notatnik-panel__body">
        <div id="notatnik-root" data-mode="dark" data-view="form">
          <div class="mobileSwitch" role="tablist" aria-label="Widok notatnika">
            <button class="mobileSwitch__btn is-active" type="button" data-notatnik-view="form" aria-pressed="true">
              Dodaj wpis
            </button>
            <button class="mobileSwitch__btn" type="button" data-notatnik-view="list" aria-pressed="false">
              Wpisy
            </button>
          </div>
          <main class="grid gridViewport">

            <!-- LEWA: formularz -->

            <section class="card cardScroll" id="formCard">

              <div class="cardHead">

                <h2 id="formTitle">Dodaj wpis</h2>

                <div class="cardHeadActions">

                  <button id="saveBtn" class="ok" type="button">Zapisz</button>

                  <button id="resetBtn" class="secondary" type="button">Wyczy formularz</button>

                  <span class="pill">Wpis贸w: <strong id="countPill">0</strong></span>

                </div>

              </div>



              <div class="cardBodyScroll">

                <div class="block">

                  <label for="notes">Notatki</label>

                  <textarea id="notes" placeholder="dowolne"></textarea>

                </div>



                <div class="hr"></div>



                <div class="row">

                  <div>

                    <label for="dt">Data i czas wpisu</label>

                    <input id="dt" type="datetime-local" />

                  </div>

                  <div class="toggleField">

                    <label for="medsToggle">Wpis lek贸w</label>

                    <div class="toggleInput">

                      <span class="toggleText">Przyjte leki</span>

                      <label class="switch" aria-label="Przyjte leki">

                        <input type="checkbox" id="medsToggle" />

                        <span class="slider"></span>

                      </label>

                    </div>

                  </div>

                </div>



                <div class="row3 mt10">

                  <div>

                    <label for="sys">SYS</label>

                    <input id="sys" inputmode="numeric" placeholder="np. 128" />

                  </div>

                  <div>

                    <label for="dia">DIA</label>

                    <input id="dia" inputmode="numeric" placeholder="np. 84" />

                  </div>

                  <div>

                    <label for="pulse">Ttno</label>

                    <input id="pulse" inputmode="numeric" placeholder="np. 72" />

                  </div>

                </div>



                <div class="mt10" id="medsSection">

                  <label>Leki (lista z Ustawie)</label>

                  <div id="medChecklist" class="medChecklist"></div>



                  <div class="mt10">

                    <label for="medNotes">Uwagi do lek贸w</label>

                    <input id="medNotes" placeholder="np. Atacand wypad z rki, nie byem pewien" />

                  </div>

                </div>



                <div class="hr"></div>



                <div class="mt10">

                  <label for="food">Jedzenie</label>

                  <input id="food" placeholder="np. 2 kanapki, obiad, sodycze" />

                </div>



                <div class="row mt10">

                  <div>

                    <label for="waterAmount">Nawodnienie (ml)</label>

                    <input id="waterAmount" inputmode="numeric" placeholder="np. 250" />

                  </div>

                  <div>

                    <label for="waterType">Rodzaj pynu (procent wody)</label>

                    <select id="waterType">

                      <option value="1">woda (100%)</option>

                      <option value="0.85">woda z sokiem (85%)</option>

                      <option value="0.9">herbata (90%)</option>

                      <option value="0.99">kawa (99%)</option>

                      <option value="0.7">sok (70%)</option>

                    </select>

                  </div>

                </div>



                <div class="row mt10">

                  <div>

                    <label for="substances">Kofeina, alkohol, nikotyna</label>

                    <input id="substances" placeholder="np. kawa x2, bez alkoholu" />

                  </div>

                  <div>

                    <label for="sleep">Sen</label>

                    <input id="sleep" placeholder="np. 6:30, pobudki x2" />

                  </div>

                </div>



                <div class="mt10">

                  <label for="events">Wydarzenia (seks, stres, wysiek)</label>

                  <input id="events" placeholder="np. rano seks, stres w pracy" />

                </div>



                <div class="mt10">

                  <label for="symptoms">Objawy (Twoje sowa)</label>

                  <input id="symptoms" placeholder="np. mam zjazd, jestem skoowany" />

                </div>



                <div class="row mt10">

                  <div class="sliderBox">

                    <div class="sliderTop">

                      <label for="severity">Nasilenie b贸lu</label>

                      <div class="sliderReadout">

                        <strong id="severityVal">0</strong>

                        <span id="severityText" class="sliderText">brak</span>

                      </div>

                    </div>

                    <input id="severity" type="range" min="0" max="10" step="1" />

                  </div>



                  <div class="sliderBox">

                    <div class="sliderTop">

                      <label for="anxiety">Lk lub napicie</label>

                      <div class="sliderReadout">

                        <strong id="anxietyVal">0</strong>

                        <span id="anxietyText" class="sliderText">brak</span>

                      </div>

                    </div>

                    <input id="anxiety" type="range" min="0" max="10" step="1" />

                  </div>

                </div>



                <div class="mt10">

                  <label for="hypothesis">Hipoteza</label>

                  <textarea id="hypothesis" placeholder="np. pominem dawk + sabe nawodnienie"></textarea>

                </div>

                <div class="btns">

                  <button id="cancelEditBtn" class="secondary hidden" type="button">Anuluj edycj</button>

                </div>

              </div>

            </section>



            <!-- PRAWA: lista -->

            <section class="card cardScroll" id="listCard">

              <div class="topbar topbarFixed">

                <div class="filters">

                  <input id="q" placeholder="Szukaj w wpisach" />

                  <div class="dateRange">

                    <span class="dateLabel">Od <input id="fromDate" type="date" /></span>

                    <span class="dateLabel">Do <input id="toDate" type="date" /></span>

                    <button id="todayBtn" type="button" class="secondary">Dzi</button>

                    <button id="allBtn" type="button" class="secondary">Wszystko</button>

                  </div>

                </div>



                <div class="btns" style="margin-top:6px;">

                  <select id="sort" style="width:auto;">

                    <option value="desc">Sortowanie: najnowsze</option>

                    <option value="asc">Sortowanie: najstarsze</option>

                  </select>

                  <label class="iconToggle" title="Poka偶 wpisy metryczne">

                    <input id="showMetrics" type="checkbox" aria-label="Poka偶 wpisy metryczne" />

                    <span class="iconBtn" aria-hidden="true">

                      <svg viewBox="0 0 24 24" fill="none">

                        <path d="M2 12s4-6 10-6 10 6 10 6-4 6-10 6-10-6-10-6Z" stroke="currentColor" stroke-width="2" />

                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />

                      </svg>

                    </span>

                  </label>

                  <button id="copyViewBtn" type="button" class="iconBtn" aria-label="Kopiuj JSON z widoku"
                    title="Kopiuj JSON z widoku">

                    <svg viewBox="0 0 24 24" fill="none">

                      <path d="M8 8h10v12H8z" stroke="currentColor" stroke-width="2" />

                      <path d="M6 16H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v1" stroke="currentColor"
                        stroke-width="2" />

                    </svg>

                  </button>

                </div>



              </div>



              <div class="listScroll">

                <div class="summaryWrap">

                  <div class="summaryPanel" id="viewSummary">

                    <div class="summaryBlock">

                      <div class="summaryTitle">Nawodnienie</div>

                      <div class="summaryValue"><span id="waterTotal">-</span> / <span id="waterTarget">-</span> ml
                      </div>

                      <div class="summaryHint" id="waterDays">- dni</div>

                      <div class="summaryBar">

                        <div class="summaryBarFill" id="waterBar"></div>

                      </div>

                    </div>



                    <div class="summaryBlock meds">

                      <div class="summaryTitle">Leki</div>

                      <div class="medsTable" id="medsSummary"></div>

                    </div>



                    <div class="summaryBlock bp">

                      <div class="summaryTitle">Cinienie i puls</div>

                      <div class="bpGrid">

                        <div class="bpChartCol">

                          <div class="summaryChart" id="bpPulseChart">Brak danych w widoku.</div>

                          <div class="summaryLegend">

                            <span class="legendItem sys">SYS</span>

                            <span class="legendItem dia">DIA</span>

                            <span class="legendItem pulse">Ttno</span>

                          </div>

                        </div>

                        <div class="bpInfo" id="bpPulseInfo">-</div>

                      </div>

                    </div>

                  </div>

                </div>

                <div class="list" id="list"></div>

              </div>

            </section>

          </main>

          <div id="toast" class="toast hidden"></div>
        </div>
      </div>
    </section>

    <a class="tile tile--active tile--gmail" href="/auth" aria-controls="gmail-preview" aria-expanded="false">
      <div class="tile__tag">Gmail</div>
      <h2>Skrzynka Gmail</h2>
      <p>Podgld liczby nieprzeczytanych wiadomoci na 偶ywo.</p>
      <div class="tile__status">
        <span class="tile__badge" id="gmail-count">...</span>
        <span class="tile__status-text" id="gmail-status">Sprawdzanie poczenia</span>
      </div>
      <span class="tile__cta" id="gmail-cta">Pocz konto</span>
    </a>

    <section class="gmail-preview" id="gmail-preview" aria-live="polite" hidden>
      <div class="gmail-preview__header">
        <div>
          <p class="gmail-preview__eyebrow">Gmail</p>
          <h2>Podgld skrzynki</h2>
          <p class="gmail-preview__lede">Nieprzeczytane wiadomoci z inboxa.</p>
        </div>
        <div class="gmail-preview__actions">
          <a class="gmail-preview__link gmail-preview__link--header" href="https://mail.google.com/" target="_blank"
            rel="noreferrer" id="gmail-preview-open">
            Otw贸rz Gmail
          </a>
          <div class="gmail-preview__detail-actions" aria-label="Akcje wiadomoci">
            <button class="gmail-preview__icon gmail-preview__action" type="button" id="gmail-action-trash"
              aria-label="Usu">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 7h16M9 7V5h6v2M9 11v6M15 11v6M6 7l1 12h10l1-12" fill="none" stroke="currentColor"
                  stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>
            <button class="gmail-preview__icon gmail-preview__action" type="button" id="gmail-action-read"
              aria-label="Oznacz jako przeczytane">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 7h16v10H4z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                <path d="M4 7l8 6 8-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
          </div>
          <button class="gmail-preview__icon gmail-preview__back" type="button" id="gmail-preview-back"
            aria-label="Powr贸t" hidden>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M15 6l-6 6 6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </button>
          <button class="gmail-preview__icon gmail-preview__close" type="button" id="gmail-preview-close"
            aria-label="Zamknij">
            Zamknij
          </button>
        </div>
      </div>
      <div class="gmail-preview__body" id="gmail-preview-body">
        <div class="gmail-preview__empty">aduje podgld...</div>
      </div>
      <div class="gmail-preview__footer">
        <a class="gmail-preview__link gmail-preview__link--ghost" href="/auth" id="gmail-preview-auth">
          Pocz konto
        </a>
      </div>
    </section>

    <a class="tile tile--active tile--cookbook" href="/cookbook/index.html" aria-controls="cookbook-panel"
      aria-expanded="false" id="cookbook-tile">
      <div class="tile__tag">Kucharz AI</div>
      <h2>Tw贸j Kucharz</h2>
      <p>Generuj przepisy na podstawie tego, co masz w lod贸wce.</p>
      <span class="tile__cta">Otw贸rz kuchni</span>
    </a>

    <!-- Cookbook Panel -->
    <section class="cookbook-panel" id="cookbook-panel" aria-live="polite" hidden>
      <div class="cookbook-panel__header">
        <div>
          <p class="cookbook-panel__eyebrow">Kucharz AI</p>
          <h2>Tw贸j Kucharz</h2>
          <p class="cookbook-panel__lede">Zarzdzaj spi偶arni i generuj przepisy.</p>
        </div>
        <div class="cookbook-panel__actions">
          <a class="cookbook-panel__link" href="/cookbook/settings.html" target="_blank" rel="noreferrer">
            Ustawienia
          </a>
          <button class="cookbook-panel__icon cookbook-panel__close" type="button" id="cookbook-panel-close"
            aria-label="Zamknij">
            Zamknij
          </button>
        </div>
      </div>
      <div class="cookbook-panel__body">
        <div id="cookbook-root" class="cookbook-grid">
          <!-- Pantry Section -->
          <section class="cookbook-card cookbook-pantry">
            <div class="cookbook-card__header">
              <h3> Spi偶arnia</h3>
              <button id="pantry-add-btn" class="cookbook-btn cookbook-btn--primary cookbook-btn--sm">+ Dodaj</button>
            </div>
            <div id="pantry-list-container" class="cookbook-pantry-list">
              <p class="cookbook-empty">adowanie zapas贸w...</p>
            </div>
          </section>

          <!-- Tools & Action Section -->
          <div class="cookbook-tools-col">

            <section class="cookbook-card">
              <div class="cookbook-card__header">
                <h3> Co jemy?</h3>
              </div>
              <div class="cookbook-form">
                <div class="cookbook-form-group">
                  <label>Typ posiku</label>
                  <select id="meal-type-select">
                    <option value="niadanie">niadanie</option>
                    <option value="Obiad">Obiad</option>
                    <option value="Kolacja">Kolacja</option>
                    <option value="Przekska">Przekska</option>
                  </select>
                </div>
                <div class="cookbook-form-group">
                  <label>Liczba os贸b</label>
                  <input type="number" id="people-count-input" value="2" min="1">
                </div>
                <div class="cookbook-form-group checkbox-group">
                  <input type="checkbox" id="suggest-shopping-checkbox">
                  <label for="suggest-shopping-checkbox">Proponuj zakupy (jeli brakuje skadnik贸w)</label>
                </div>
                <button id="cookbook-generate-btn" class="cookbook-btn cookbook-btn--accent cookbook-btn--large">
                   Wygeneruj Przepis
                </button>
              </div>
            </section>
          </div>

          <!-- Recipe Section -->
          <section class="cookbook-card cookbook-recipe hidden" id="recipe-display-section">
            <div class="cookbook-card__header">
              <h3> Przepis od AI</h3>
              <button id="recipe-close-btn" class="cookbook-btn cookbook-btn--ghost">Zamknij</button>
            </div>
            <div id="recipe-display-content" class="cookbook-recipe-content">
              <!-- AI Recipe here -->
            </div>
          </section>
        </div>
      </div>
    </section>

    <!-- Modal for adding/editing pantry items -->
    <div id="pantry-modal" class="cookbook-modal hidden">
      <div class="cookbook-modal-content">
        <h2 id="modal-title">Dodaj produkt</h2>
        <form id="pantry-form">
          <div class="cookbook-form-group">
            <label for="item-name">Nazwa produktu</label>
            <input type="text" id="item-name" required placeholder="np. Jajka">
          </div>
          <div class="cookbook-form-row">
            <div class="cookbook-form-group">
              <label for="item-qty">Ilo</label>
              <input type="text" id="item-qty" required placeholder="np. 6">
            </div>
            <div class="cookbook-form-group">
              <label for="item-unit">Jednostka</label>
              <input type="text" id="item-unit" placeholder="np. szt.">
            </div>
          </div>
          <div class="cookbook-form-group">
            <label for="item-exp">Data wa偶noci (opcjonalnie)</label>
            <input type="date" id="item-exp">
          </div>
          <div class="cookbook-modal-actions">
            <button type="button" id="modal-cancel-btn" class="cookbook-btn cookbook-btn--ghost">Anuluj</button>
            <button type="submit" class="cookbook-btn cookbook-btn--primary">Zapisz</button>
          </div>
        </form>
      </div>
    </div>

    <div class="tile tile--placeholder" role="button" aria-disabled="true">
      <div class="tile__tag">Wkr贸tce</div>
      <h2>Kolejna aplikacja</h2>
      <p>Slot gotowy na nowy modu.</p>
      <span class="tile__cta">Dodaj pomys</span>
    </div>

    <div class="tile tile--placeholder" role="button" aria-disabled="true">
      <div class="tile__tag">Wkr贸tce</div>
      <h2>Kolejna aplikacja</h2>
      <p>Slot gotowy na nowy modu.</p>
      <span class="tile__cta">Dodaj pomys</span>
    </div>

    <div class="tile tile--placeholder" role="button" aria-disabled="true">
      <div class="tile__tag">Wkr贸tce</div>
      <h2>Kolejna aplikacja</h2>
      <p>Slot gotowy na nowy modu.</p>
      <span class="tile__cta">Dodaj pomys</span>
    </div>

    <div class="tile tile--placeholder" role="button" aria-disabled="true">
      <div class="tile__tag">Wkr贸tce</div>
      <h2>Kolejna aplikacja</h2>
      <p>Slot gotowy na nowy modu.</p>
      <span class="tile__cta">Dodaj pomys</span>
    </div>
  </main>

  <footer class="footer">
    <span>Portal aplikacji - wersja bazowa</span>
    <div class="footer__actions">
      <label class="theme-switch" for="theme-select">
        <span class="theme-switch__label">Motyw</span>
        <select id="theme-select" class="theme-switch__control">
          <option value="auto">Auto</option>
          <option value="day">Dzie</option>
          <option value="night">Noc</option>
        </select>
      </label>
      <a class="logout-link" href="/logout">Wyloguj</a>
    </div>
  </footer>

  <script src="script.js"></script>
  <script src="/cookbook/app.js"></script>
  <script src="/bp-chatlog/themes.js"></script>
  <script src="/bp-chatlog/app.js"></script>
</body>

</html>